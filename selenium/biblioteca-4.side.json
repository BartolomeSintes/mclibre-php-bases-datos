{
    "id": "mclibre-biblioteca-4-tests",
    "version": "2.0",
    "name": "biblioteca-4",
    "url": "http://localhost",
    "tests": [
        {
            "id": "test-1",
            "name": "Desconexión inicial",
            "comment": "Se desconecta haciendo clic en Desconectar (si existe).",
            "commands": [
                {
                    "id": "t1-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t1-1b",
                    "command": "pause",
                    "target": "3000",
                    "value": ""
                },
                {
                    "id": "t1-2",
                    "command": "store",
                    "target": "Desconectarse",
                    "value": "text1"
                },
                {
                    "id": "t1-7",
                    "command": "executeScript",
                    "target": "return (document.querySelectorAll('[data-test-id=\"desconectarse\"]').length != 0)",
                    "value": "test"
                },
                {
                    "id": "t1-8",
                    "command": "if",
                    "target": "${test}",
                    "value": ""
                },
                {
                    "id": "t1-9",
                    "command": "click",
                    "target": "linkText=${text1}",
                    "value": ""
                },
                {
                    "id": "t1-10",
                    "command": "end",
                    "target": "",
                    "value": ""
                }
            ]
        },
        {
            "id": "test-2-1",
            "name": "Conexión y desconexión como root",
            "comment": "Se conecta como root / root. Se desconecta.",
            "commands": [
                {
                    "id": "t2-1-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t2-1-2",
                    "command": "pause",
                    "target": "3000",
                    "value": ""
                },
                {
                    "id": "t2-1-3",
                    "command": "click",
                    "target": "linkText=Conectarse",
                    "value": ""
                },
                {
                    "id": "t2-1-4",
                    "command": "type",
                    "target": "name=usuario",
                    "value": "root"
                },
                {
                    "id": "t2-1-5",
                    "command": "type",
                    "target": "name=password",
                    "value": "root"
                },
                {
                    "id": "t2-1-6",
                    "command": "click",
                    "target": "xpath=//input[@value='Identificar']",
                    "value": ""
                },
                {
                    "id": "t2-1-7",
                    "command": "click",
                    "target": "linkText=Administrador",
                    "value": ""
                },
                {
                    "id": "t2-1-8",
                    "command": "assertText",
                    "target": "xpath=//h1",
                    "value": "BIBLIOTECA-4 - ADMINISTRADOR - INICIO"
                },
                {
                    "id": "t2-1-9",
                    "command": "click",
                    "target": "linkText=Volver",
                    "value": ""
                },
                {
                    "id": "t2-1-10",
                    "command": "click",
                    "target": "linkText=Desconectarse",
                    "value": ""
                }
            ]
        },
        {
            "id": "test-2-2",
            "name": "Conexión y desconexión como usuario básico",
            "comment": "Se conecta como basico / basico. Se desconecta.",
            "commands": [
                {
                    "id": "t2-2-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t2-2-2",
                    "command": "pause",
                    "target": "3000",
                    "value": ""
                },
                {
                    "id": "t2-2-3",
                    "command": "click",
                    "target": "linkText=Conectarse",
                    "value": ""
                },
                {
                    "id": "t2-2-4",
                    "command": "type",
                    "target": "name=usuario",
                    "value": "basico"
                },
                {
                    "id": "t2-2-5",
                    "command": "type",
                    "target": "name=password",
                    "value": "basico"
                },
                {
                    "id": "t2-2-6",
                    "command": "click",
                    "target": "xpath=//input[@value='Identificar']",
                    "value": ""
                },
                {
                    "id": "t2-2-7",
                    "command": "click",
                    "target": "linkText=Obras",
                    "value": ""
                },
                {
                    "id": "t2-2-8",
                    "command": "assertText",
                    "target": "xpath=//li[a='Listar']",
                    "value": "Listar"
                },
                {
                    "id": "t2-2-9",
                    "comment": "Aquí selecciono el elemento y compruebo su contenido. Si el elemento no existiera, daría error",
                    "command": "assertText",
                    "target": "xpath=//li[a='Listar']",
                    "value": "Listar"
                },
                {
                    "id": "t2-2-10",
                    "comment": "Aquí compruebo que existe el elemento y compruebo su contenido.",
                    "command": "assertElementPresent",
                    "target": "xpath=//li[a='Listar']",
                    "value": ""
                },
                {
                    "id": "t2-2-11",
                    "comment": "Aquí compruebo que el elemento no existe.",
                    "command": "assertElementNotPresent",
                    "target": "xpath=//li[a='Borrar']",
                    "value": ""
                },
                {
                    "id": "t2-2-12",
                    "command": "click",
                    "target": "linkText=Volver",
                    "value": ""
                },
                {
                    "id": "t2-2-13",
                    "command": "click",
                    "target": "linkText=Desconectarse",
                    "value": ""
                }
            ]
        },
        {
            "id": "test-2-3",
            "name": "Conexión y desconexión como usuario avanzado",
            "comment": "Se conecta como avanzado / avanzado. Se desconecta.",
            "commands": [
                {
                    "id": "t2-3-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t2-3-2",
                    "command": "pause",
                    "target": "3000",
                    "value": ""
                },
                {
                    "id": "t2-3-3",
                    "command": "click",
                    "target": "linkText=Conectarse",
                    "value": ""
                },
                {
                    "id": "t2-3-4",
                    "command": "type",
                    "target": "name=usuario",
                    "value": "avanzado"
                },
                {
                    "id": "t2-3-5",
                    "command": "type",
                    "target": "name=password",
                    "value": "avanzado"
                },
                {
                    "id": "t2-3-6",
                    "command": "click",
                    "target": "xpath=//input[@value='Identificar']",
                    "value": ""
                },
                {
                    "id": "t2-3-7",
                    "command": "click",
                    "target": "linkText=Obras",
                    "value": ""
                },
                {
                    "id": "t2-3-8",
                    "command": "assertText",
                    "target": "xpath=//li[a='Buscar']",
                    "value": "Buscar"
                },
                {
                    "id": "t2-3-9",
                    "command": "click",
                    "target": "linkText=Buscar",
                    "value": ""
                },
                {
                    "id": "t2-3-10",
                    "comment": "Aquí compruebo que existe el elemento y compruebo su contenido.",
                    "command": "assertText",
                    "target": "xpath=//p[1]",
                    "value": "Escriba el criterio de búsqueda (caracteres o números):"
                },
                {
                    "id": "t2-3-11",
                    "comment": "Aquí compruebo que el elemento no existe.",
                    "command": "assertElementNotPresent",
                    "target": "xpath=//li[a='Borrar']",
                    "value": ""
                },
                {
                    "id": "t2-3-12",
                    "command": "click",
                    "target": "linkText=Volver",
                    "value": ""
                },
                {
                    "id": "t2-3-13",
                    "command": "click",
                    "target": "linkText=Desconectarse",
                    "value": ""
                }
            ]
        },
        {
            "id": "test-3",
            "name": "Borrar Todo (con registros de prueba)",
            "comment": "Se conecta como root / root. Abre Administrador > Borrar todo.",
            "commands": [
                {
                    "id": "t3-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t3-2",
                    "command": "click",
                    "target": "linkText=Conectarse",
                    "value": ""
                },
                {
                    "id": "t3-3",
                    "command": "type",
                    "target": "name=usuario",
                    "value": "root"
                },
                {
                    "id": "t3-4",
                    "command": "type",
                    "target": "name=password",
                    "value": "root"
                },
                {
                    "id": "t3-5",
                    "command": "click",
                    "target": "xpath=//input[@value='Identificar']",
                    "value": ""
                },
                {
                    "id": "t3-6",
                    "command": "click",
                    "target": "linkText=Administrador",
                    "value": ""
                },
                {
                    "id": "t3-7",
                    "command": "click",
                    "target": "linkText=Borrar todo",
                    "value": ""
                },
                {
                    "id": "t3-8",
                    "command": "verify checked",
                    "target": "name=demo",
                    "value": ""
                },
                {
                    "id": "t3-9",
                    "command": "click",
                    "target": "xpath=//input[@value='Sí']",
                    "value": ""
                },
                {
                    "id": "t3-10",
                    "command": "pause",
                    "target": "5000",
                    "value": ""
                },
                {
                    "id": "t3-11",
                    "command": "assertText",
                    "target": "xpath=//p",
                    "value": "Base de datos creada, insertando registros de prueba."
                },
                {
                    "id": "t3-12",
                    "command": "click",
                    "target": "linkText=Volver",
                    "value": ""
                }
            ]
        },
        {
            "id": "test-4",
            "name": "Tabla Personas > Listar",
            "comment": "Testea opciones tabla Personas > Listar",
            "commands": [
                {
                    "id": "t4-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t3-2",
                    "command": "click",
                    "target": "linkText=Personas",
                    "value": ""
                },
                {
                    "id": "t4-3",
                    "command": "click",
                    "target": "linkText=Listar",
                    "value": ""
                },
                {
                    "id": "t4-4",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Pepito"
                },
                {
                    "id": "t4-5",
                    "command": "assertText",
                    "target": "xpath=//tr[2]/td[1]",
                    "value": "Juan"
                },
                {
                    "id": "t4-6",
                    "command": "click",
                    "target": "xpath=//button[@value='nombre ASC']",
                    "value": ""
                },
                {
                    "id": "t4-7",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Juan"
                },
                {
                    "id": "t4-8",
                    "command": "assertText",
                    "target": "xpath=//tr[2]/td[1]",
                    "value": "Pepito"
                },
                {
                    "id": "t4-9",
                    "command": "click",
                    "target": "xpath=//button[@value='nombre DESC']",
                    "value": ""
                },
                {
                    "id": "t4-10",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Pepito"
                },
                {
                    "id": "t4-11",
                    "command": "assertText",
                    "target": "xpath=//tr[2]/td[1]",
                    "value": "Juan"
                },
                {
                    "id": "t4-12",
                    "command": "click",
                    "target": "xpath=//button[@value='apellidos DESC']",
                    "value": ""
                },
                {
                    "id": "t4-13",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Juan"
                },
                {
                    "id": "t4-14",
                    "command": "assertText",
                    "target": "xpath=//tr[2]/td[1]",
                    "value": "Pepito"
                },
                {
                    "id": "t4-15",
                    "command": "click",
                    "target": "xpath=//button[@value='apellidos ASC']",
                    "value": ""
                },
                {
                    "id": "t4-16",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Pepito"
                },
                {
                    "id": "t4-17",
                    "command": "assertText",
                    "target": "xpath=//tr[2]/td[1]",
                    "value": "Juan"
                },
                {
                    "id": "t4-18",
                    "command": "click",
                    "target": "xpath=//button[@value='dni DESC']",
                    "value": ""
                },
                {
                    "id": "t4-19",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Juan"
                },
                {
                    "id": "t4-20",
                    "command": "assertText",
                    "target": "xpath=//tr[2]/td[1]",
                    "value": "Pepito"
                },
                {
                    "id": "t4-21",
                    "command": "click",
                    "target": "xpath=//button[@value='dni ASC']",
                    "value": ""
                },
                {
                    "id": "t4-22",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Pepito"
                },
                {
                    "id": "t4-23",
                    "command": "assertText",
                    "target": "xpath=//tr[2]/td[1]",
                    "value": "Juan"
                }
            ]
        },
        {
            "id": "test-5",
            "name": "Tabla Personas > Añadir",
            "comment": "Testea opciones tabla Personas > Añadir",
            "commands": [
                {
                    "id": "t5-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t5-2",
                    "command": "click",
                    "target": "linkText=Personas",
                    "value": ""
                },
                {
                    "id": "t5-3",
                    "command": "click",
                    "target": "linkText=Añadir registro",
                    "value": ""
                },
                {
                    "id": "t5-4",
                    "command": "type",
                    "target": "name=nombre",
                    "value": "Numa"
                },
                {
                    "id": "t5-5",
                    "command": "type",
                    "target": "name=apellidos",
                    "value": "Nigerio"
                },
                {
                    "id": "t5-5",
                    "command": "type",
                    "target": "name=dni",
                    "value": "456H"
                },
                {
                    "id": "t5-6",
                    "command": "click",
                    "target": "xpath=//input[@value='Añadir']",
                    "value": ""
                },
                {
                    "id": "t5-7",
                    "command": "assertText",
                    "target": "xpath=//p",
                    "value": "Registro Numa Nigerio - 456H creado correctamente."
                },
                {
                    "id": "t5-8",
                    "command": "click",
                    "target": "linkText=Listar",
                    "value": ""
                },
                {
                    "id": "t5-9",
                    "command": "assertText",
                    "target": "xpath=//tr[3]/td[1]",
                    "value": "Numa"
                }
            ]
        },
        {
            "id": "test-6",
            "name": "Tabla Personas > Buscar",
            "comment": "Testea opciones tabla Personas > Buscar",
            "commands": [
                {
                    "id": "t6-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t6-2",
                    "command": "click",
                    "target": "linkText=Personas",
                    "value": ""
                },
                {
                    "id": "t6-3",
                    "command": "click",
                    "target": "linkText=Buscar",
                    "value": ""
                },
                {
                    "id": "t6-4",
                    "command": "type",
                    "target": "name=nombre",
                    "value": "a"
                },
                {
                    "id": "t6-5",
                    "command": "click",
                    "target": "xpath=//input[@value='Buscar']",
                    "value": ""
                },
                {
                    "id": "t6-6",
                    "command": "click",
                    "target": "xpath=//button[@value='dni ASC']",
                    "value": ""
                },
                {
                    "id": "t6-7",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Numa"
                },
                {
                    "id": "t6-8",
                    "command": "assertText",
                    "target": "xpath=//tr[2]/td[1]",
                    "value": "Juan"
                },
                {
                    "id": "t6-9",
                    "command": "click",
                    "target": "linkText=Buscar",
                    "value": ""
                },
                {
                    "id": "t6-10",
                    "command": "type",
                    "target": "name=nombre",
                    "value": "y"
                },
                {
                    "id": "t6-11",
                    "command": "click",
                    "target": "xpath=//input[@value='Buscar']",
                    "value": ""
                },
                {
                    "id": "t6-12",
                    "command": "assertText",
                    "target": "xpath=//p",
                    "value": "No se han encontrado registros."
                }
            ]
        },
        {
            "id": "test-7",
            "name": "Tabla Personas > Modificar",
            "comment": "Testea opciones tabla Personas > Modificar",
            "commands": [
                {
                    "id": "t7-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t7-2",
                    "command": "click",
                    "target": "linkText=Personas",
                    "value": ""
                },
                {
                    "id": "t7-3",
                    "command": "click",
                    "target": "linkText=Modificar",
                    "value": ""
                },
                {
                    "id": "t7-4",
                    "command": "click",
                    "target": "xpath=//input[@value='3']",
                    "value": ""
                },
                {
                    "id": "t7-5",
                    "command": "click",
                    "target": "xpath=//input[@value='Modificar registro']",
                    "value": ""
                },
                {
                    "id": "t7-6",
                    "command": "type",
                    "target": "name=nombre",
                    "value": "Cayo"
                },
                {
                    "id": "t7-7",
                    "command": "click",
                    "target": "xpath=//input[@value='Actualizar']",
                    "value": ""
                },
                {
                    "id": "t7-8",
                    "command": "assertText",
                    "target": "xpath=//p",
                    "value": "Registro modificado correctamente."
                },
                {
                    "id": "t7-9",
                    "command": "click",
                    "target": "linkText=Listar",
                    "value": ""
                },
                {
                    "id": "t7-10",
                    "command": "assertText",
                    "target": "xpath=//tr[3]/td[1]",
                    "value": "Cayo"
                }
            ]
        },
        {
            "id": "test-8",
            "name": "Tabla Personas > Borrar",
            "comment": "Testea opciones tabla Personas > Borrar",
            "commands": [
                {
                    "id": "t8-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t8-2",
                    "command": "click",
                    "target": "linkText=Personas",
                    "value": ""
                },
                {
                    "id": "t8-3",
                    "command": "click",
                    "target": "linkText=Borrar",
                    "value": ""
                },
                {
                    "id": "t8-4",
                    "command": "click",
                    "target": "xpath=//button[@value='apellidos DESC']",
                    "value": ""
                },
                {
                    "id": "t8-5",
                    "command": "assertText",
                    "target": "xpath=//tr[1]/td[2]",
                    "value": "Cayo"
                },
                {
                    "id": "t8-6",
                    "command": "click",
                    "target": "name=id[3]",
                    "value": ""
                },
                {
                    "id": "t8-7",
                    "command": "click",
                    "target": "xpath=//input[@value='Borrar registro']",
                    "value": ""
                },
                {
                    "id": "t8-8",
                    "command": "assertText",
                    "target": "xpath=//p",
                    "value": "Registro borrado correctamente."
                },
                {
                    "id": "t8-9",
                    "command": "click",
                    "target": "linkText=Listar",
                    "value": ""
                },
                {
                    "id": "t8-10",
                    "command": "click",
                    "target": "xpath=//button[@value='apellidos DESC']",
                    "value": ""
                },
                {
                    "id": "t8-11",
                    "command": "assertNotText",
                    "target": "xpath=//tr[1]/td[1]",
                    "value": "Numa"
                }
            ]
        },
        {
            "id": "test-9",
            "name": "Por completar",
            "comment": "Testea ",
            "commands": [
                {
                    "id": "t9-1",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/index.php",
                    "value": ""
                },
                {
                    "id": "t9-2",
                    "command": "open",
                    "target": "/mclibre/consultar/php-bases-datos/biblioteca-4/tablas/db-personas/insertar-2.php?nombre=bbb",
                    "value": ""
                },
                {
                    "id": "t9-3",
                    "command": "click",
                    "target": "linkText=Personas",
                    "value": ""
                },
                {
                    "id": "t9-4",
                    "command": "click",
                    "target": "linkText=Listar",
                    "value": ""
                }
            ]
        }
    ],
    "suites": [
        {
            "id": "suite-1",
            "name": "Default Suite",
            "persistSession": false,
            "parallel": false,
            "timeout": 300,
            "tests": [
                "test-1",
                "test-2-1",
                "test-2-2",
                "test-2-3",
                "test-3",
                "test-4",
                "test-5",
                "test-6",
                "test-7",
                "test-8"
            ]
        }
    ]
}
